<!doctype html>
<html>
    <head>
        <title>Poshify</title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
        <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <script src="app.py"></script>
        
        <link rel="stylesheet" href="styles.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;1,900&family=Young+Serif&display=swap" rel="stylesheet">

    </head>
    <body>
        <header>
            <nav>
                <div class="logo" href="home"><a href="home">Poshify</a></div>
                <ul class="nav-links">
                    <li><a class="login" href="login">Login</a></li>
                    <li><a class="signup" href="create_user">Sign Up</a></li>
                </ul>
            </nav>
        </header>
        <div class ="sec" id="sec">
            <form class = "grid" action = "/result_clothes" method = "POST">
                
                <center>
                    {% if result %}
                    <a href="#sec"></a>
                    <h3 style="color: black">Your Result:</h3>
                    <p>
                        {{result}}
                    </p>
                    {% endif %}
                </center>
                <label for="clothing_name">Clothing Name: </label>
                <input name="clothing_name" id="clothing_name" type="text" required>
                <label for="clothing_type">Clothing Type: </label>
                <select name="clothes_type" id="clothes_type" required>
                    <option value="Jacket">Jacket</option>
                    <option value="T-Shirt">T-Shirt</option>
                    <option value="Sweatshirt">Sweatshirt</option>
                    <option value="Pants">Pants</option>
                    <option value="Shorts">Shorts</option>
                    <option value="Shoes">Shoes</option>
                    <option value="Hat">Hat</option>
                </select>
                <label for="color">Color: </label>
                <input name="color" id="color" type="text" required>
                <label for="hue">Hue: </label>
                <input name="hue" id="hue" type="text" required>
                <label for="saturation">Saturation: </label>
                <input name="saturation" id="saturation" type="text" required>
                <label for="value">Value: </label>
                <input name="value" id="value" type="text" required>
                <label for="is_clean">Is it clean?: </label>
                <label class="radio-label" for="is_clean_yes">
                    <input type="radio" name="is_clean" id="is_clean_yes" value="y"> Yes
                </label>
                <label class="radio-label" for="is_clean_no">
                    <input type="radio" name="is_clean" id="is_clean_no" value="n"> No
                </label>
                <video id="videoElement" width="640" height="480" autoplay></video><br>
    <button onclick="captureImage()">Capture Photo</button><br>
    <canvas id="canvas" width="640" height="480" style="display: none;"></canvas>

    <script>
        async function captureImage() {
            const video = document.getElementById('videoElement');
            const canvas = document.getElementById('canvas');
            const context = canvas.getContext('2d');

            const constraints = {
                video: true
            };

            try {
                const stream = await navigator.mediaDevices.getUserMedia(constraints);
                video.srcObject = stream;
            } catch (err) {
                console.error('Error accessing the camera: ', err);
            }

            video.onloadedmetadata = () => {
                video.play();
            };

            document.querySelector('button').addEventListener('click', () => {
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
                const imageData = canvas.toDataURL('image/jpeg');
                // Send imageData to the server for processing
                // Example: sendToBackend(imageData);
            });
        }
    </script>
                <center><input type = "Submit" class = "file_submit"></center>
                
                
            </form>
        </div>
    </body>
</html>
